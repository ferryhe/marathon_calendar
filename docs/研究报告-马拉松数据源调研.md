# 马拉松数据源调研报告

## 1. 项目背景

本报告旨在为马拉松日历应用寻找可靠、全面的数据源，以支持应用的核心功能。马拉松日历应用需要收集全国乃至全球的马拉松赛事信息，包括赛事名称、时间、地点、报名状态等关键信息。

## 2. 数据源调研

### 2.1 马拉松官方网站直采

#### 优势
- **数据准确性高**：直接从赛事官方网站获取，信息最为准确和及时
- **数据完整性好**：可以获取赛事的详细信息，包括路线图、赛事规则、参赛资格等
- **数据权威性强**：官方发布，可信度最高

#### 劣势
- **维护成本高**：需要为每个马拉松建立单独的爬虫规则
- **网站结构不统一**：不同赛事官网的结构差异大，难以统一处理
- **反爬虫机制**：部分网站有严格的反爬虫策略
- **数据更新频率不一**：不同赛事更新信息的时间和频率不同

#### 实施建议
1. **建立马拉松赛事目录**
   - 按地区分类（华北、华东、华南、华中、西南、西北、东北）
   - 记录每个赛事的官网URL
   - 标注赛事举办频率（年度、半年度等）

2. **典型赛事列表**（示例）
   ```
   - 北京马拉松：https://www.beijing-marathon.com
   - 上海马拉松：https://www.shang-ma.com
   - 厦门马拉松：https://www.xmim.org
   - 广州马拉松：https://www.gzmarathon.com
   - 杭州马拉松：https://www.hzim.org
   - 成都马拉松：https://www.chengdumarathon.com
   - 武汉马拉松：https://www.wuhanmarathon.com
   - 深圳马拉松：https://www.szmarthon.com
   ```

3. **爬虫策略**
   - 使用定时任务，每周检查一次官网更新
   - 重点关注报名开始时间、截止时间、赛事日期
   - 监控赛事状态变化（未开始、报名中、已截止、已结束）

### 2.2 第三方报名平台

#### 2.2.1 马拉松报名网站

**主要平台：**

1. **最酷体育（Zuicool）**
   - URL: https://www.zuicool.com
   - 特点：国内主流马拉松报名平台之一
   - 覆盖：全国大部分大型马拉松赛事
   - 数据质量：高

2. **芝华安方体育**
   - URL: https://www.zhihuianfang.com
   - 特点：专业赛事运营公司
   - 覆盖：承办多场大型马拉松
   - 数据质量：高

3. **爱燃烧（iranshao）**
   - URL: https://iranshao.com
   - 特点：跑步社区+赛事报名
   - 覆盖：包含各类跑步赛事信息
   - 数据质量：中高

4. **42旅（42travel）**
   - URL: https://www.42travel.com
   - 特点：跑步社区和赛事聚合
   - 覆盖：国内外赛事
   - 数据质量：中高

5. **悦跑圈（Joy Run）**
   - URL: https://www.thejoyrun.com
   - 特点：跑步APP+赛事信息
   - 覆盖：各类跑步活动
   - 数据质量：中

#### 优势
- **数据聚合**：一个平台包含多个赛事信息
- **结构统一**：同一平台的数据结构相对统一
- **更新及时**：报名平台会及时更新赛事状态
- **信息全面**：包含报名费用、赛事规模等详细信息

#### 劣势
- **覆盖不全**：不是所有马拉松都在这些平台报名
- **数据权限**：可能需要API访问权限
- **商业限制**：部分数据可能有使用限制

#### 实施建议
1. 优先爬取最酷体育、爱燃烧等主流平台
2. 建立数据去重机制（同一赛事可能在多个平台出现）
3. 定期同步各平台数据（建议每日一次）
4. 尝试联系平台方获取API访问权限

### 2.3 搜索引擎与聚合

#### 2.3.1 搜索引擎策略

**关键词组合：**
- "马拉松 + 年份 + 城市"
- "马拉松赛事 + 报名"
- "Marathon + China + 2026"
- "跑步赛事 + 时间表"

#### 优势
- **覆盖全面**：可以发现新增或小型赛事
- **技术门槛低**：使用搜索API相对简单
- **发现能力强**：能找到官网和报名平台都未收录的赛事

#### 劣势
- **噪音数据多**：需要大量过滤无效信息
- **准确性差**：信息可能过时或不准确
- **效率较低**：需要人工或AI辅助筛选

#### 实施建议
1. 作为辅助数据源，补充官网和平台数据
2. 使用搜索API（如Google Search API、Bing Search API）
3. 结合AI进行内容识别和提取
4. 建立人工审核机制

### 2.4 社交媒体与跑步社区

**数据源：**
- 微信公众号（各地马拉松协会、跑团）
- 微博话题（#马拉松#、#跑步赛事#）
- 小红书、抖音等社交平台
- 知乎相关话题和专栏

#### 优势
- **时效性强**：社交媒体更新快
- **口碑信息**：可以获取赛事评价和参赛体验
- **活跃度高**：跑步爱好者活跃分享

#### 劣势
- **数据分散**：信息零散，难以系统化
- **质量参差**：真假信息混杂
- **采集难度大**：各平台反爬虫机制严格

## 3. 推荐数据采集方案

### 3.1 分层数据源策略

#### 第一层：核心数据源（高优先级）
1. **20-30个知名马拉松官网**
   - 六大满贯赛事（如有国内关注度）
   - 国内金牌、银牌赛事
   - 各省会城市标志性马拉松

2. **2-3个主流报名平台**
   - 最酷体育
   - 爱燃烧
   - 芝华安方

#### 第二层：补充数据源（中优先级）
1. 省级、市级马拉松官网
2. 其他报名平台
3. 马拉松协会官网

#### 第三层：发现数据源（低优先级）
1. 搜索引擎
2. 社交媒体
3. 用户提交

### 3.2 数据采集流程

```
1. 定时任务触发（每日/每周）
   ↓
2. 爬虫并行采集各数据源
   ↓
3. 原始数据存储（保留源数据）
   ↓
4. 数据清洗与标准化
   ↓
5. 去重与合并（基于赛事名称、时间、地点）
   ↓
6. 数据验证（AI辅助检查）
   ↓
7. 入库存储
   ↓
8. 变更通知（新增赛事、状态变更）
```

### 3.3 关键技术点

1. **爬虫技术**
   - 使用 Puppeteer 处理动态网页
   - 设置合理的请求间隔避免封禁
   - 使用代理IP池（如需要）

2. **数据清洗**
   - 统一日期格式
   - 标准化地名（省、市、区）
   - 清理HTML标签和特殊字符

3. **去重算法**
   - 基于赛事名称的相似度匹配
   - 结合时间和地点进行判断
   - 保留数据来源优先级（官网 > 报名平台 > 搜索）

## 4. 数据质量保障

### 4.1 数据验证规则

- **必填字段检查**：名称、时间、地点
- **日期合理性**：不能是过去时间（历史数据除外）
- **URL有效性**：检查链接是否可访问
- **逻辑一致性**：报名截止时间应早于比赛时间

### 4.2 异常处理

- **采集失败**：记录日志，重试机制（最多3次）
- **数据冲突**：优先使用官方数据，标记冲突
- **格式错误**：进入人工审核队列

### 4.3 数据更新策略

- **新赛事**：立即添加
- **状态变更**：及时更新（如报名开启、截止）
- **历史数据**：保留用于统计分析
- **用户反馈**：建立纠错机制

## 5. 法律与道德考量

### 5.1 数据采集合规性

- **遵守robots.txt**：尊重网站爬虫规则
- **合理请求频率**：避免对源网站造成负担
- **数据使用声明**：明确数据来源和使用目的
- **用户隐私保护**：不采集个人信息

### 5.2 版权问题

- **数据转载**：注明数据来源
- **商业使用**：如涉及商业化，需获得授权
- **内容原创性**：自行编写的描述和分析

## 6. 后续迭代方向

1. **用户众包**：允许用户提交赛事信息
2. **数据交换**：与其他平台建立数据共享协议
3. **官方合作**：争取与马拉松协会、赛事方合作
4. **国际化**：扩展到国际知名马拉松赛事

## 7. 结论

建议采用**分层数据源策略**，以官网和主流报名平台为核心，搜索引擎为补充，建立完善的数据采集、清洗、验证流程。初期重点覆盖20-30个知名赛事，逐步扩展到全国范围。同时建立数据质量保障机制和用户反馈渠道，确保数据的准确性和时效性。
