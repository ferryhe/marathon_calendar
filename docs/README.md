# 马拉松日历应用 - 项目文档总览

## 📚 文档目录

本文档库包含马拉松日历应用开发的完整研究报告和项目计划。

### 核心文档

1. **[研究报告-马拉松数据源调研](./研究报告-马拉松数据源调研.md)**
   - 马拉松数据获取的各种途径分析
   - 官方网站直采 vs 第三方平台 vs 搜索引擎
   - 推荐的分层数据源策略
   - 数据质量保障措施

2. **[研究报告-数据提取与处理方案](./研究报告-数据提取与处理方案.md)**
   - 从原始数据到结构化信息的技术方案
   - 传统解析 vs AI辅助提取
   - 各种AI API的对比和选择
   - 成本优化策略
   - 数据清洗和标准化流程

3. **[项目计划-完整开发路线图](./项目计划-完整开发路线图.md)**
   - 四个开发阶段的详细规划
   - Web版 → 小程序版 → 统一后台 → 高级功能
   - 每个阶段的功能点和时间估算
   - 技术栈选型和成本估算
   - 里程碑和交付计划

4. **[技术架构文档](./技术架构文档.md)**
   - 完整的系统架构设计
   - 数据库设计和优化
   - API接口规范
   - 爬虫系统架构
   - 安全、性能、监控方案

## 🎯 快速导航

### 如果你想了解...

**数据采集方案** → 阅读 [数据源调研报告](./研究报告-马拉松数据源调研.md) 第2-3章

**AI如何帮助数据提取** → 阅读 [数据提取方案](./研究报告-数据提取与处理方案.md) 第2.3节

**开发要花多长时间** → 阅读 [项目计划](./项目计划-完整开发路线图.md) "项目时间规划总览"

**Web版和小程序的开发顺序** → 阅读 [项目计划](./项目计划-完整开发路线图.md) 阶段一和阶段二

**数据库如何设计** → 阅读 [技术架构文档](./技术架构文档.md) 第2章

**API接口如何设计** → 阅读 [技术架构文档](./技术架构文档.md) 第3章

**运营成本估算** → 阅读 [项目计划](./项目计划-完整开发路线图.md) "成本估算"章节

## 📊 核心结论总结

### 1. 数据源策略

**推荐采用分层策略：**

```
第一层（核心）：20-30个知名马拉松官网 + 2-3个主流报名平台
第二层（补充）：省市级马拉松官网 + 其他报名平台
第三层（发现）：搜索引擎 + 社交媒体 + 用户提交
```

**主要平台：**
- 最酷体育（zuicool.com）
- 爱燃烧（iranshao.com）
- 芝华安方体育

### 2. 数据提取方案

**混合方案（最佳实践）：**

```
传统解析（主） + AI辅助（辅） + 人工审核（兜底）
├─ 90%：使用Cheerio/Puppeteer规则解析
├─ 8%：AI提取（传统解析失败时）
└─ 2%：人工审核（AI不确定的情况）
```

**AI选择：**
- **推荐**：阿里云通义千问（中文优化好，成本低）
- **备选**：OpenAI GPT-3.5-turbo（能力强，成本高）
- **长期**：考虑自部署开源模型（成本最低）

**预计成本**：¥30-60/月（AI调用）

### 3. 开发路线

**阶段一：Web网页版** (30-40工作日)
- 前端：React + Vite + Radix UI
- 后端：Express + PostgreSQL + Redis
- 爬虫：Puppeteer + AI辅助
- 功能：赛事展示、搜索、评论、用户系统

**阶段二：微信小程序** (25-35工作日)
- 原生小程序开发
- 微信授权登录
- 订阅消息推送
- 复用Web端API

**阶段三：统一后台** (15-20工作日)
- 腾讯云部署
- 多端用户关联
- 缓存优化
- 监控告警

**阶段四：高级功能** (持续迭代)
- 管理后台
- 智能推荐
- 数据分析

**总开发时间：**
- 单人全职：4-5个月
- 2人团队：2.5-3个月

### 4. 技术栈

```json
{
  "前端": {
    "Web": "React + Vite + Tailwind CSS",
    "小程序": "微信原生小程序"
  },
  "后端": {
    "框架": "Express + TypeScript",
    "数据库": "PostgreSQL",
    "缓存": "Redis",
    "ORM": "Drizzle"
  },
  "数据采集": {
    "爬虫": "Puppeteer + Cheerio",
    "AI": "通义千问 API",
    "调度": "node-cron"
  },
  "云服务": {
    "平台": "腾讯云",
    "服务": "CVM + PostgreSQL + Redis + CDN"
  }
}
```

### 5. 成本估算

**开发成本：**
- 人力：根据实际情况
- 时间：4-5个月（单人）

**运营成本（月度）：**
```
云服务器：     200-300元
云数据库：     300-500元
Redis缓存：    100-200元
存储+CDN：     50-100元
AI API：       30-100元
域名SSL：      10-20元
─────────────────────
合计：         690-1220元/月
```

## 🚀 立即开始

### 准备工作清单

- [ ] 确认需求和功能范围
- [ ] 组建开发团队（或确定单人开发）
- [ ] 准备开发环境（Node.js, PostgreSQL, Redis）
- [ ] 注册腾讯云账号
- [ ] 申请通义千问API密钥
- [ ] 注册微信小程序账号（阶段二需要）
- [ ] 制定详细的任务分解

### 第一周任务建议

**Day 1-2：环境搭建**
- 设置本地开发环境
- 初始化项目代码（已有）
- 配置数据库和Redis

**Day 3-4：核心API开发**
- 赛事列表API
- 赛事详情API
- 基础的搜索和筛选

**Day 5：爬虫原型**
- 选择2-3个简单网站
- 实现基础爬虫逻辑
- 测试数据采集

## 💡 关键建议

### 开发建议

1. **先做核心，后做完美**
   - 第一版聚焦核心功能：赛事展示和搜索
   - 评论、推荐等功能可以后续迭代

2. **数据驱动决策**
   - 先覆盖20-30个知名赛事
   - 根据用户反馈决定扩展方向

3. **质量优先于速度**
   - 数据准确性 > 数据数量
   - 系统稳定性 > 功能丰富度

4. **灵活应对变化**
   - 网站结构会变化，爬虫需要维护
   - API可能失效，需要备用方案
   - 用户需求会变化，保持架构灵活

### 风险控制

1. **技术风险**
   - 反爬虫：准备多个数据源
   - AI成本：设置每日上限
   - 性能：及早优化，增加缓存

2. **法律风险**
   - 遵守robots.txt
   - 注明数据来源
   - 不采集个人信息

3. **业务风险**
   - 做好用户体验
   - 建立用户反馈机制
   - 持续内容运营

## 📞 技术支持

### 遇到问题？

1. **查阅文档**：详细的技术文档包含了大部分答案
2. **社区支持**：相关技术栈都有活跃的中文社区
3. **云服务商**：腾讯云提供技术支持服务

### 推荐学习资源

**React生态：**
- React官方文档（react.dev）
- TanStack Query文档
- Vite官方文档

**Node.js后端：**
- Express文档
- Drizzle ORM文档
- PostgreSQL中文文档

**爬虫技术：**
- Puppeteer文档
- Cheerio文档

**微信小程序：**
- 微信小程序官方文档
- 小程序社区

## 🎉 祝你成功！

这是一个很有价值的项目，能够帮助广大跑步爱好者更方便地发现和参加马拉松赛事。

记住：**从小做起，持续迭代，关注用户反馈**。

有了清晰的计划和可靠的技术方案，相信你一定能做出优秀的产品！

---

**文档版本**：v1.0  
**最后更新**：2026年2月  
**维护者**：开发团队

---

## 附录：文档更新记录

| 日期 | 版本 | 更新内容 |
|-----|------|---------|
| 2026-02-08 | v1.0 | 初始版本，完整的研究报告和项目计划 |
